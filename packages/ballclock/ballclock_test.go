package ballclock

import (
	"testing"
)

type clockTest struct {
	cycles   int
	expected string
}

var clockTests = []clockTest{
	{4, `{"Min":[1,2,3,4],"FiveMin":[],"Hour":[],"Main":[5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27]}`},
	{5, `{"Min":[],"FiveMin":[5],"Hour":[],"Main":[6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,4,3,2,1]}`},
	{6, `{"Min":[6],"FiveMin":[5],"Hour":[],"Main":[7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,4,3,2,1]}`},
	{9, `{"Min":[6,7,8,9],"FiveMin":[5],"Hour":[],"Main":[10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,4,3,2,1]}`},
	{10, `{"Min":[],"FiveMin":[5,10],"Hour":[],"Main":[11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,4,3,2,1,9,8,7,6]}`},
	{59, `{"Min":[11,12,13,14],"FiveMin":[5,10,15,20,25,2,6,19,23,27,1],"Hour":[],"Main":[24,16,17,18,4,3,21,22,9,8,7,26]}`},
	{60, `{"Min":[],"FiveMin":[],"Hour":[24],"Main":[16,17,18,4,3,21,22,9,8,7,26,14,13,12,11,1,27,23,19,6,2,25,20,15,10,5]}`},
	{119, `{"Min":[26,14,13,20],"FiveMin":[3,7,11,6,10,16,12,23,25,5,19],"Hour":[24],"Main":[15,1,27,4,18,17,2,8,9,22,21]}`},
	{120, `{"Min":[],"FiveMin":[],"Hour":[24,15],"Main":[1,27,4,18,17,2,8,9,22,21,20,13,14,26,19,5,25,23,12,16,10,6,11,7,3]}`},
	{179, `{"Min":[20,13,6,11],"FiveMin":[17,21,19,16,3,22,14,25,10,26,12],"Hour":[24,15],"Main":[7,5,18,4,27,1,23,9,8,2]}`},
	{180, `{"Min":[],"FiveMin":[],"Hour":[24,15,7],"Main":[5,18,4,27,1,23,9,8,2,11,6,13,20,12,26,10,25,14,22,3,16,19,21,17]}`},
	{239, `{"Min":[6,16,19,21],"FiveMin":[1,11,26,3,27,8,13,10,2,12,22],"Hour":[24,15,7],"Main":[17,20,4,18,5,14,25,9,23]}`},
	{240, `{"Min":[],"FiveMin":[],"Hour":[24,15,7,17],"Main":[20,4,18,5,14,25,9,23,21,19,16,6,22,12,2,10,13,8,27,3,26,11,1]}`},
	{299, `{"Min":[23,26,11,1],"FiveMin":[14,19,2,3,18,9,16,5,21,12,27],"Hour":[24,15,7,17],"Main":[22,6,4,20,8,13,10,25]}`},
	{300, `{"Min":[],"FiveMin":[],"Hour":[24,15,7,17,22],"Main":[6,4,20,8,13,10,25,1,11,26,23,27,12,21,5,16,9,18,3,2,19,14]}`},
	{359, `{"Min":[25,19,14,12],"FiveMin":[13,26,5,2,4,10,3,8,11,21,1],"Hour":[24,15,7,17,22],"Main":[27,23,6,18,9,16,20]}`},
	{360, `{"Min":[],"FiveMin":[],"Hour":[24,15,7,17,22,27],"Main":[23,6,18,9,16,20,12,14,19,25,1,21,11,8,3,10,4,2,5,26,13]}`},
	{419, `{"Min":[20,13,11,21],"FiveMin":[16,25,3,26,23,8,2,9,19,18,12],"Hour":[24,15,7,17,22,27],"Main":[1,5,14,4,10,6]}`},
	{420, `{"Min":[],"FiveMin":[],"Hour":[24,15,7,17,22,27,1],"Main":[5,14,4,10,6,21,11,13,20,12,18,19,9,2,8,23,26,3,25,16]}`},
	{479, `{"Min":[2,4,19,18],"FiveMin":[6,12,8,16,20,9,26,10,3,14,21],"Hour":[24,15,7,17,22,27,1],"Main":[25,11,13,23,5]}`},
	{480, `{"Min":[],"FiveMin":[],"Hour":[24,15,7,17,22,27,1,25],"Main":[11,13,23,5,18,19,4,2,21,14,3,10,26,9,20,16,8,12,6]}`},
	{539, `{"Min":[13,23,3,6],"FiveMin":[18,14,20,5,2,10,16,26,12,11,9],"Hour":[24,15,7,17,22,27,1,25],"Main":[19,4,8,21]}`},
	{540, `{"Min":[],"FiveMin":[],"Hour":[24,15,7,17,22,27,1,25,19],"Main":[4,8,21,6,3,23,13,9,11,12,26,16,10,2,5,20,14,18]}`},
	{599, `{"Min":[8,16,6,2],"FiveMin":[3,12,5,21,13,26,9,10,18,11,4],"Hour":[24,15,7,17,22,27,1,25,19],"Main":[23,20,14]}`},
	{600, `{"Min":[],"FiveMin":[],"Hour":[24,15,7,17,22,27,1,25,19,23],"Main":[20,14,2,6,16,8,4,11,18,10,9,26,13,21,5,12,3]}`},
	{659, `{"Min":[9,26,18,21],"FiveMin":[16,10,5,14,8,2,11,13,6,3,20],"Hour":[24,15,7,17,22,27,1,25,19,23],"Main":[4,12]}`},
	{660, `{"Min":[],"FiveMin":[],"Hour":[24,15,7,17,22,27,1,25,19,23,4],"Main":[12,21,18,26,9,20,3,6,13,11,2,8,14,5,10,16]}`},
	{719, `{"Min":[2,13,26,3],"FiveMin":[9,11,10,12,5,18,6,14,8,16,21],"Hour":[24,15,7,17,22,27,1,25,19,23,4],"Main":[20]}`},
	{720, `{"Min":[],"FiveMin":[],"Hour":[],"Main":[3,26,13,2,21,16,8,14,6,18,5,12,10,11,9,4,23,19,25,1,27,22,17,7,15,24,20]}`},
	{779, `{"Min":[5,12,10,11],"FiveMin":[21,18,9,1,15,26,16,25,17,20,3],"Hour":[],"Main":[7,4,23,19,2,13,27,22,6,14,8,24]}`},
	{780, `{"Min":[],"FiveMin":[],"Hour":[7],"Main":[4,23,19,2,13,27,22,6,14,8,24,11,10,12,5,3,20,17,25,16,26,15,1,9,18,21]}`},
	{839, `{"Min":[24,11,10,1],"FiveMin":[13,8,5,16,18,4,12,17,15,21,25],"Hour":[7],"Main":[9,3,20,2,19,23,26,14,6,22,27]}`},
	{840, `{"Min":[],"FiveMin":[],"Hour":[7,9],"Main":[3,20,2,19,23,26,14,6,22,27,1,10,11,24,25,21,15,17,12,4,18,16,5,8,13]}`},
	{899, `{"Min":[1,10,16,5],"FiveMin":[23,27,25,4,13,22,11,15,18,24,12],"Hour":[7,9],"Main":[8,21,19,2,20,3,17,6,14,26]}`},
	{900, `{"Min":[],"FiveMin":[],"Hour":[7,9,8],"Main":[21,19,2,20,3,17,6,14,26,5,16,10,1,12,24,18,15,11,22,13,4,25,27,23]}`},
	{959, `{"Min":[16,4,25,27],"FiveMin":[3,5,24,13,20,14,10,18,26,12,22],"Hour":[7,9,8],"Main":[23,1,2,19,21,11,15,6,17]}`},
	{960, `{"Min":[],"FiveMin":[],"Hour":[7,9,8,23],"Main":[1,2,19,21,11,15,6,17,27,25,4,16,22,12,26,18,10,14,20,13,24,5,3]}`},
	{1019, `{"Min":[17,24,5,3],"FiveMin":[11,25,26,13,19,6,4,21,27,12,20],"Hour":[7,9,8,23],"Main":[22,16,2,1,14,10,18,15]}`},
	{1020, `{"Min":[],"FiveMin":[],"Hour":[7,9,8,23,22],"Main":[16,2,1,14,10,18,15,3,5,24,17,20,12,27,21,4,6,19,13,26,25,11]}`},
	{1079, `{"Min":[15,25,11,12],"FiveMin":[10,24,21,26,2,18,13,14,5,27,3],"Hour":[7,9,8,23,22],"Main":[20,17,16,19,6,4,1]}`},
	{1080, `{"Min":[],"FiveMin":[],"Hour":[7,9,8,23,22,20],"Main":[17,16,19,6,4,1,12,11,25,15,3,27,5,14,13,18,2,26,21,24,10]}`},
	{1139, `{"Min":[1,10,5,27],"FiveMin":[4,15,13,24,17,14,26,6,25,19,12],"Hour":[7,9,8,23,22,20],"Main":[3,21,11,2,18,16]}`},
	{1140, `{"Min":[],"FiveMin":[],"Hour":[7,9,8,23,22,20,3],"Main":[21,11,2,18,16,27,5,10,1,12,19,25,6,26,14,17,24,13,15,4]}`},
	{1199, `{"Min":[26,2,25,19],"FiveMin":[16,12,14,4,1,6,24,18,13,11,27],"Hour":[7,9,8,23,22,20,3],"Main":[15,5,10,17,21]}`},
	{1200, `{"Min":[],"FiveMin":[],"Hour":[7,9,8,23,22,20,3,15],"Main":[5,10,17,21,19,25,2,26,27,11,13,18,24,6,1,4,14,12,16]}`},
	{1259, `{"Min":[10,17,13,16],"FiveMin":[19,11,1,21,26,18,4,24,12,5,6],"Hour":[7,9,8,23,22,20,3,15],"Main":[25,2,14,27]}`},
	{1260, `{"Min":[],"FiveMin":[],"Hour":[7,9,8,23,22,20,3,15,25],"Main":[2,14,27,16,13,17,10,6,5,12,24,4,18,26,21,1,11,19]}`},
	{1319, `{"Min":[14,4,16,26],"FiveMin":[13,12,21,27,10,24,6,18,19,5,2],"Hour":[7,9,8,23,22,20,3,15,25],"Main":[17,1,11]}`},
	{1320, `{"Min":[],"FiveMin":[],"Hour":[7,9,8,23,22,20,3,15,25,17],"Main":[1,11,26,16,4,14,2,5,19,18,6,24,10,27,21,12,13]}`},
	{1379, `{"Min":[6,24,19,27],"FiveMin":[4,18,21,11,14,26,5,10,16,13,1],"Hour":[7,9,8,23,22,20,3,15,25,17],"Main":[2,12]}`},
	{1380, `{"Min":[],"FiveMin":[],"Hour":[7,9,8,23,22,20,3,15,25,17,2],"Main":[12,27,19,24,6,1,13,16,10,5,26,14,11,21,18,4]}`},
	{1439, `{"Min":[26,10,24,13],"FiveMin":[6,5,18,12,21,19,16,11,14,4,27],"Hour":[7,9,8,23,22,20,3,15,25,17,2],"Main":[1]}`},
	{1440, `{"Min":[],"FiveMin":[],"Hour":[],"Main":[13,24,10,26,27,4,14,11,16,19,21,12,18,5,6,2,17,25,15,3,20,22,23,8,9,7,1]}`},
}

func TestClock(t *testing.T) {
	for _, tt := range clockTests {
		t1 := NewClock(27)
		actual := t1.RunMode2(tt.cycles)
		if actual != tt.expected {
			t.Errorf("RunMode2(%d): expected %s, actual %s", tt.cycles, tt.expected, actual)
		}
	}
}
